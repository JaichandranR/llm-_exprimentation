<configuration>
  <!-- Use SSE-KMS for S3 encryption -->
  <property>
    <name>fs.s3a.server-side-encryption.key</name>
    <value>arn:aws:kms:us-east-1:123456789012:key/YOUR-S3-KMS-KEY-ID</value>
  </property>

  <property>
    <name>fs.s3a.server-side-encryption-algorithm</name>
    <value>SSE-KMS</value>
  </property>

  <!-- Optional: Set AWS credentials provider if not using IRSA -->
  <property>
    <name>fs.s3a.aws.credentials.provider</name>
    <value>com.amazonaws.auth.DefaultAWSCredentialsProviderChain</value>
  </property>
</configuration>

Updated to use a composite alarm to reduce alert noise and ignore false negatives. The new setup defines two metric alarms â€” one for 5xxErrors >= 3 and one for 5xxErrors <= 7. A composite alarm is configured using an AND condition across both, ensuring an alert is only triggered when the number of 5xx errors is between 3 and 7 over five consecutive 1-minute periods (3 out of 5 datapoints must meet the condition). This removes noise from low-value or outlier alerts while still capturing meaningful error activity.
