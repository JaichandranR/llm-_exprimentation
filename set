- id: prepare_dates
  type: io.kestra.core.tasks.debugs.Return
  format: >
    [
      {% set today_dow = now() | date('u') %}
      {% if today_dow != '6' and today_dow != '7' %}
        "{{ now() | date('yyyy-MM-dd') }}",
      {% endif %}

      "{{ now() | date('yyyy-MM-01') }}",

      {% set months = ["2024-12-01", "2025-01-01", "2025-02-01", "2025-03-01", "2025-04-01", "2025-05-01"] %}
      {% for m in months %}
        {% set dow = m | date('u') %}
        {% if dow != '6' and dow != '7' %}
          "{{ m }}",
        {% endif %}
      {% endfor %}
    ]
