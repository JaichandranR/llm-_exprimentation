format: >
  {{ [
    {% set result = [] %}
    
    {# Today #}
    {% if now() | date('u') != '6' and now() | date('u') != '7' %}
      {% set _ = result.append({ "index": 0, "date": now() | date('yyyy-MM-dd') }) %}
    {% endif %}

    {# This monthâ€™s 1st #}
    {% set m1 = now() | date('yyyy-MM-01') %}
    {% if m1 | date('u') != '6' and m1 | date('u') != '7' %}
      {% set _ = result.append({ "index": result.size(), "date": m1 }) %}
    {% endif %}

    {# Past 6 months' 1st #}
    {% for i in range(1, 7) %}
      {% set d = now() | dateAdd(-i, 'MONTHS') | date('yyyy-MM-01') %}
      {% if d | date('u') != '6' and d | date('u') != '7' %}
        {% set _ = result.append({ "index": result.size(), "date": d }) %}
      {% endif %}
    {% endfor %}

    result | toJson
  }}
